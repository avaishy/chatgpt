import { useEffect, useRef } from 'react';

const hasFetchedOnce = useRef(false);

useEffect(() => {
  if (userId && !hasFetchedOnce.current) {
    hasFetchedOnce.current = true;

    const timer = setTimeout(() => {
      getPreviousSessions();
      dispatch(setRefressPreviousSession(false));
    }, 500);

    return () => clearTimeout(timer);
  }
}, [userId]);