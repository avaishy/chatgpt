if (showCurrentSession && refreshCurrentSession && selectedChat?.chat_id) {
  const matchedSession = result.find((session) =>
    session.chats?.some(chat => chat.chat_id === selectedChat.chat_id)
  );

  if (matchedSession) {
    const matchedChat = matchedSession.chats.find(chat =>
      chat.chat_id === selectedChat.chat_id
    );

    dispatch(setCurrentSessionDetails(matchedSession));
    dispatch(setCurrentChat(matchedSession.chats));

    if (matchedChat) {
      dispatch(setSelectedChat(matchedChat)); // ✅ set correct selected chat
    }

    dispatch(setRefressCurrentSession(false)); // ✅ reset refresh flag
  }
}