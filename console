useEffect(() => {
  if (!userId) return;

  fetchStatuses();
}, [userId]);

// Re-fetch when any indexing status is "Processing"
useEffect(() => {
  const hasPendingIndexing = allStatuses.some(
    (item) => item.task === 'Indexing' && item.status !== 'Completed'
  );

  if (hasPendingIndexing) {
    const timeout = setTimeout(() => {
      fetchStatuses();
    }, 5000); // Re-fetch after 5 seconds

    return () => clearTimeout(timeout);
  }
}, [allStatuses]);