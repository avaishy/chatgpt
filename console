// Polling or re-fetch until session exists in previousSessions
useEffect(() => {
  let attempts = 0;
  const intervalId = setInterval(() => {
    const sessionExists = previousSessions.some(session =>
      session.chats?.some(chat => chat.chat_id === selectedChat?.chat_id)
    );

    if (sessionExists || attempts > 5) {
      if (sessionExists) {
        const matchedSession = previousSessions.find(session =>
          session.chats?.some(chat => chat.chat_id === selectedChat.chat_id)
        );
        dispatch(setCurrentSessionDetails(matchedSession));
        dispatch(setCurrentChat(matchedSession.chats));
        dispatch(setRefressCurrentSession(false));
      }
      clearInterval(intervalId);
    } else {
      getPreviousSessions(); // try again
      attempts++;
    }
  }, 1000);

  return () => clearInterval(intervalId);
}, [refreshCurrentSession, selectedChat?.chat_id]);